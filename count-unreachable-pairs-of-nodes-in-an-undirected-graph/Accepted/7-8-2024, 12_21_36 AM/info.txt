{"id":1313204048,"question_id":2403,"lang":"cpp","lang_name":"C++","time":"2 months, 2 weeks","timestamp":1720378296,"status":10,"status_display":"Accepted","runtime":"479 ms","url":"/submissions/detail/1313204048/","is_pending":"Not Pending","title":"Count Unreachable Pairs of Nodes in an Undirected Graph","memory":"184.3 MB","code":"class Solution {\npublic:\n    vector<int>parent,size;\n    int par(int x){\n        if(x==parent[x]){\n            return x;\n        }\n        return parent[x]=par(parent[x]);\n    }\n    void uni(int x,int y){\n        int p1=par(x);\n        int p2=par(y);\n        if(p1==p2){\n            return;\n        }\n        if(size[p1]<size[p2]){\n            size[p2]+=size[p1];\n            parent[p1]=p2;\n        }\n        else{\n            size[p1]+=size[p2];\n            parent[p2]=p1;\n        }\n    }\n    long long countPairs(int n, vector<vector<int>>& edges) {\n        //find the number of components and the nodes in each components\n        vector<int>adj[n];\n        parent.resize(n,0);\n        size.resize(n,1);\n        for(int i=0;i<n;i++){\n            parent[i]=i;\n        }\n        for(int i=0;i<edges.size();i++){\n            int u=edges[i][0];\n            int v=edges[i][1];\n            adj[u].push_back(v);\n            adj[v].push_back(u);\n        }\n        vector<int>vis(n,0);\n        for(int i=0;i<n;i++){\n            for(auto u:adj[i]){\n                if(!vis[u]){\n                    uni(i,u);\n                }\n            }\n        }\n        map<long long int,long long int>mp;\n        for(int i=0;i<n;i++){\n            mp[parent[i]]++;\n        }\n        vector<long long int>x;\n        int sum=0;\n        for(auto m:mp){\n            x.push_back(m.second);\n            sum+=m.second;\n        }\n        sort(x.begin(),x.end());\n        long long int ans=0;\n        for(int i=0;i<x.size();i++){\n                sum-=x[i];\n                ans+=sum*x[i];\n        }\n        return ans;\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111","title_slug":"count-unreachable-pairs-of-nodes-in-an-undirected-graph","has_notes":false,"flag_type":1}