{"id":1305413202,"question_id":721,"lang":"cpp","lang_name":"C++","time":"2 months, 3 weeks","timestamp":1719808790,"status":10,"status_display":"Accepted","runtime":"78 ms","url":"/submissions/detail/1305413202/","is_pending":"Not Pending","title":"Accounts Merge","memory":"37.4 MB","code":"class Solution {\nvector<int>rank,parent;\npublic:\n    int find(int x){\n        if(parent[x]==x){\n            return x;\n        }\n        return parent[x]=find(parent[x]);\n    }\n    void union1(int x,int y){\n        int x_par=find(x);\n        int y_par=find(y);\n        if(x_par==y_par){\n            return;\n        }\n        if(rank[x_par]>rank[y_par]){\n            parent[y_par]=x_par;\n        }\n        else if(rank[y_par]>rank[x_par]){\n            parent[x_par]=y_par;\n        }\n        else{\n            parent[x_par]=y_par;\n            rank[x_par]++;\n        }\n    }\n    vector<vector<string>> accountsMerge(vector<vector<string>>& accounts) {\n        parent.resize(accounts.size()+1,0);\n        rank.resize(accounts.size()+1,0);\n        for(int i=0;i<=accounts.size();i++){\n            parent[i]=i;\n            rank[i]=1;\n        }\n        map<string,int>mp;\n        for(int i=0;i<accounts.size();i++){\n            for(int j=1;j<accounts[i].size();j++){\n                string x=accounts[i][j];\n                if(mp.find(x)==mp.end()){\n                    mp[x]=i;\n                }\n                else{\n                    union1(i,mp[x]);\n                }\n            }\n        }\n        vector<string>adj[accounts.size()];\n        for(auto m:mp){\n            int n=m.second;\n            int np=find(n);\n            adj[np].push_back(m.first);\n        }\n        vector<vector<string>>x1;\n        for(int i=0;i<accounts.size();i++){\n            if(adj[i].size()==0){\n                continue;\n            }\n            sort(adj[i].begin(),adj[i].end());\n            vector<string>x;\n            x.push_back(accounts[i][0]);\n            for(auto u:adj[i]){\n                x.push_back(u);\n            }\n            x1.push_back(x);\n        }\n        return x1;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111","title_slug":"accounts-merge","has_notes":false,"flag_type":1}